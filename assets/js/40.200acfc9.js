(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{570:function(s,a,t){s.exports=t.p+"assets/img/20221031095751.86ca0bc9.png"},697:function(s,a,t){"use strict";t.r(a);var e=t(7),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"minikube"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#minikube"}},[s._v("#")]),s._v(" minikube")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://minikube.sigs.k8s.io/docs/start/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://minikube.sigs.k8s.io/docs/start/"),e("OutboundLink")],1)]),s._v(" "),e("h3",{attrs:{id:"installation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation"}},[s._v("#")]),s._v(" Installation")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -LO https://storage.googleapis.com/minikube/releases/latest/minikube-latest.x86_64.rpm\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rpm")]),s._v(" -Uvh minikube-latest.x86_64.rpm\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"start-your-cluster"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#start-your-cluster"}},[s._v("#")]),s._v(" Start your cluster")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("useradd")]),s._v(" k8s\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -a -G docker k8s\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("passwd")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("su")]),s._v(" - k8s\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨é›†ç¾¤")]),s._v("\nminikube start\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯åŠ¨é›†ç¾¤")]),s._v("\nminikube start "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--driver"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--kubernetes-version"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("v1.23.8 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--image-mirror-country"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cn'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--image-repository"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'registry.cn-hangzhou.aliyuncs.com/google_containers'")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n--extra-config"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("apiserver.service-node-port-range"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30000")]),s._v("-65535\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  åœæ­¢é›†ç¾¤")]),s._v("\nminikube stop\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è·å–é›†ç¾¤çŠ¶æ€")]),s._v("\nminikube status\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ é™¤é›†ç¾¤")]),s._v("\nminikube delete\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹é›†ç¾¤IP")]),s._v("\nminikube "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹é›†ç¾¤æ—¥å¿—")]),s._v("\nminikube logs\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‰“å°minikubeç‰ˆæœ¬ä¿¡æ¯")]),s._v("\nminikube version\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br")])]),e("h3",{attrs:{id:"interact-with-your-cluster"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#interact-with-your-cluster"}},[s._v("#")]),s._v(" Interact with your cluster")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("minikube kubectl -- get pods -A\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# ä¿®æ”¹.bashrcï¼Œæ·»åŠ  alias kubectl="minikube kubectl --"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" .bashrc\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ·æ–°.bashrc")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("source")]),s._v(" .bashrc\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯ä»¥ä½¿ç”¨ kubectl ä»£æ›¿ minikube kubectl")]),s._v("\nkubectl get po -A\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("h3",{attrs:{id:"deploy-applications"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deploy-applications"}},[s._v("#")]),s._v(" Deploy applications")]),s._v(" "),e("p",[s._v("Create a sample deployment and expose it on port 80:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl create deployment hello-minikube --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23\nkubectl expose deployment hello-minikube --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("It may take a moment, but your deployment will soon show up when you run:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("k8s@k8s ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ minikube "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" hello-minikube\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-----------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("----------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("---------------------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NAMESPACE "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      NAME      "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" TARGET PORT "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("            URL            "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-----------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("----------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("---------------------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" default   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" hello-minikube "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://192.168.49.2:30831 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-----------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("----------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("---------------------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\nğŸ‰  Opening "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" default/hello-minikube "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" default browser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nğŸ‘‰  http://192.168.49.2:30831\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("The easiest way to access this service is to let minikube launch a web browser for you:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("k8s@k8s ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ minikube "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" hello-minikube\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-----------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("----------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("---------------------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" NAMESPACE "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("      NAME      "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" TARGET PORT "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("            URL            "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-----------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("----------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("---------------------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" default   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" hello-minikube "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("          "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" http://192.168.49.2:30831 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-----------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("----------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("-------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("---------------------------"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("\nğŸ‰  Opening "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" default/hello-minikube "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" default browser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nğŸ‘‰  http://192.168.49.2:30831\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("Alternatively, use kubectl to forward the port:")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl port-forward service/hello-minikube --address "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":80\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("Tada! Your application is now available at http://localhost:8080/.")]),s._v(" "),e("h2",{attrs:{id:"dashboard"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dashboard"}},[s._v("#")]),s._v(" Dashboard")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://kubernetes.io/zh-cn/docs/tasks/access-application-cluster/web-ui-dashboard/",target:"_blank",rel:"noopener noreferrer"}},[s._v("éƒ¨ç½²å’Œè®¿é—® Kubernetes ä»ªè¡¨æ¿ï¼ˆDashboardï¼‰"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("1ã€é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šéƒ¨ç½² Dashboardã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤éƒ¨ç½²ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/v2.6.1/aio/deploy/recommended.yaml\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/k8s\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://raw.githubusercontent.com/kubernetes/dashboard/v2.6.1/aio/deploy/recommended.yaml\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mv")]),s._v(" recommended.yaml kubernetes-dashboard-v2.6.1.yaml\nkubectl apply -f /home/k8s/kubernetes-dashboard-v2.6.1.yaml\n\nkubectl delete -f /home/k8s/kubernetes-dashboard-v2.6.1.yaml\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("p",[s._v("2ã€ä¸º Dashboard æ·»åŠ å¤–ç½‘è®¿é—®ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl port-forward -n kubernetes-dashboard --address "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0 service/kubernetes-dashboard "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8001")]),s._v(":443\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("è®¿é—® https://192.168.1.26:8001/ å³å¯")]),s._v(" "),e("p",[s._v("3ã€è·å–éœ€è¦ç™»å½•çš„token")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl get secret "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("kubectl get serviceaccount dashboard -o "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.secrets[0].name}"')]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" -o "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("jsonpath")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"{.data.token}"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" base64 --decode\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("å¦‚æœæ²¡æœ‰tokenï¼Œé‚£å°±åˆ›å»ºä¸€ä¸ª")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl create serviceaccount dashboard -n default\nkubectl create clusterrolebinding dashboard-admin -n default --clusterrole"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cluster-admin  --serviceaccount"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("default:dashboard\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("error: listen tcp 127.0.0.1:8001: bind: address already in use")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‰¾åˆ°è¢«å ç”¨çš„ç«¯å£ï¼Œä»¥8001ä¸ºä¾‹")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("k8s@k8s ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -tulpn "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8001")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Not all processes could be identified, non-owned process info\n will not be shown, you would have to be root to see it all."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntcp6       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" :::8001                 :::*                    LISTEN      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9471")]),s._v("/kubectl\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é‡Šæ”¾å¯¹åº”çš„ç«¯å£ï¼Œ9471ä¸ºå¯¹åº”çš„PID")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("9471")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h2",{attrs:{id:"concepts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#concepts"}},[s._v("#")]),s._v(" Concepts")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://kubernetes.io/docs/home/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/home/"),e("OutboundLink")],1)]),s._v(" "),e("p",[s._v("èµ„æºåˆ›å»ºæ–¹å¼æœ‰ä¸¤ç§ï¼š")]),s._v(" "),e("ul",[e("li",[s._v("å‘½ä»¤è¡Œ")]),s._v(" "),e("li",[s._v("YAML")])]),s._v(" "),e("h3",{attrs:{id:"kubectl"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#kubectl"}},[s._v("#")]),s._v(" kubectl")]),s._v(" "),e("p",[s._v("kubectl å‘½ä»¤è¡Œçš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl --help\nkubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TYPE"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("NAME"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[e("p",[s._v("commandï¼šå­å‘½ä»¤ï¼Œç”¨äºæ“ä½œ k8s é›†ç¾¤èµ„æºå¯¹è±¡çš„å‘½ä»¤ï¼Œä¾‹å¦‚ createã€getã€describeã€deleteã€‚")]),s._v(" "),e("p",[s._v("æ›´å¤šå‘½ä»¤è§ï¼š"),e("a",{attrs:{href:"https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands"),e("OutboundLink")],1)])]),s._v(" "),e("li",[e("p",[s._v("TYPEï¼šk8s é›†ç¾¤ä¸­èµ„æºå¯¹è±¡çš„ç±»å‹ï¼ŒåŒºåˆ†å¤§å°å†™ï¼Œèƒ½ä»¥å•æ•°ã€å¤æ•°æˆ–è€…ç®€å†™å½¢å¼è¡¨ç¤º")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("podï¼ˆpoï¼‰")])]),s._v(" "),e("li",[e("p",[s._v("serviceï¼ˆsvcï¼‰")])]),s._v(" "),e("li",[e("p",[s._v("replication controllerï¼ˆrcï¼‰")])]),s._v(" "),e("li",[e("p",[s._v("deploymentï¼ˆdeployï¼‰")])]),s._v(" "),e("li",[e("p",[s._v("replica setï¼ˆrsï¼‰")])])])])]),s._v(" "),e("img",{attrs:{src:t(570)}}),s._v(" "),e("ul",[e("li",[e("p",[s._v("NAMEï¼šk8s é›†ç¾¤ä¸­èµ„æºå¯¹è±¡çš„åç§°ï¼ŒåŒºåˆ†å¤§å°å†™ã€‚å¦‚æœä¸æŒ‡å®šåç§°ï¼Œç³»ç»Ÿåˆ™è¿”å›å±äº TYPE çš„å…¨éƒ¨èµ„æºå¯¹è±¡åˆ—è¡¨")])]),s._v(" "),e("li",[e("p",[s._v("flagsï¼škubectl å­å‘½ä»¤çš„å¯é€‰å‚æ•°")]),s._v(" "),e("p",[s._v("kubectl æ¯ä¸ªå­å‘½ä»¤ï¼ˆå¦‚ createã€getã€describeã€delete ç­‰ï¼‰è¿˜æœ‰ç‰¹å®šçš„ flags å‚æ•°ï¼Œå¯ä»¥é€šè¿‡")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" --help\nkubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("TYPE"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" --help\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("å‘½ä»¤æŸ¥çœ‹ã€‚")])])]),s._v(" "),e("h3",{attrs:{id:"namespace"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#namespace"}},[s._v("#")]),s._v(" Namespace")]),s._v(" "),e("p",[s._v("Namespace é»˜è®¤åªéš”ç¦»èµ„æºï¼Œä¸éš”ç¦»ç½‘ç»œã€‚è¯­æ³•æ ¼å¼ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" ns "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("NAME"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nkubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" ns --help\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("ç¤ºä¾‹ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl get ns\nkubectl create ns namespace_name\nkubectl delete ns namespace_name\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å·²å­˜åœ¨å‘½åç©ºé—´çš„yamlé…ç½®")]),s._v("\nkubectl get ns namespace_name -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å‡ºå·²å­˜åœ¨å‘½åç©ºé—´çš„yamlé…ç½®")]),s._v("\nkubectl get ns namespace_name -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" namespace.yaml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹ä¸å­˜åœ¨å‘½åç©ºé—´çš„yamlé…ç½®")]),s._v("\nkubectl create ns namespace_name -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml --dry-run"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å‡ºä¸å­˜åœ¨å‘½åç©ºé—´çš„yamlé…ç½®")]),s._v("\nkubectl create ns namespace_name -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml --dry-run"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" namespace.yaml\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br")])]),e("h3",{attrs:{id:"pod"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#pod"}},[s._v("#")]),s._v(" Pod")]),s._v(" "),e("p",[s._v("Pod è¿è¡Œä¸­çš„ä¸€ç»„å®¹å™¨ï¼ŒPodæ˜¯kubernetesçš„æœ€å°å•ä½ã€‚")]),s._v(" "),e("p",[s._v("ä¸€ä¸ªpodä¸­å¯ä»¥éƒ¨ç½²å¤šä¸ªcontainerï¼ŒåŒä¸€ä¸ªpodçš„containerå…±äº«ç½‘ç»œç©ºé—´ã€‚")]),s._v(" "),e("p",[s._v("è¯­æ³•æ ¼å¼ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("NAME"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nkubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" pod --help\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("ç¤ºä¾‹ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹æ‰€æœ‰å‘½åç©ºé—´çš„pod")]),s._v("\nkubectl get pod -A\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹é»˜è®¤åç§°ç©ºé—´ä¸‹çš„pod")]),s._v("\nkubectl get pod\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹æŒ‡å®šåç§°ç©ºé—´ä¸‹çš„pod")]),s._v("\nkubectl get pod -n namespace\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹é»˜è®¤åç§°ç©ºé—´ä¸‹çš„podï¼ˆæ˜¾ç¤ºæ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼‰")]),s._v("\nkubectl get pod -owide\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç›‘å¬podçš„å˜åŒ–")]),s._v("\nkubectl get pod -w\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Create and run a particular image in a pod.")]),s._v("\nkubectl run my-pod-nginx --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23 --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nkubectl run my-pod-tomcat --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/tomcat --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Show details of a specific resource or group of resources.")]),s._v("\nkubectl describe pod pod_name\nkubectl describe pod pod_name -n nameapace\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Print the logs for a container in a pod or specified resource. If the pod has only one container, the container name is optional.")]),s._v("\nkubectl logs pod_name\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Execute a command in a container.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl exec (POD | TYPE/NAME) [-c CONTAINER] [flags] -- COMMAND [args...]")]),s._v("\nkubectl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it pod_name -- /bin/bash\n\nkubectl delete pod pod_name\nkubectl delete -n default pod pod_name\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å·²å­˜åœ¨podçš„yamlé…ç½®")]),s._v("\nkubectl get pod my-pod-nginx -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å‡ºå·²å­˜åœ¨podçš„yamlé…ç½®")]),s._v("\nkubectl get pod my-pod-nginx -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" pod.yaml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹ä¸å­˜åœ¨podçš„yamlé…ç½®")]),s._v("\nkubectl run my-pod-nginx --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23 --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml --dry-run"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å‡ºä¸å­˜åœ¨podçš„yamlé…ç½®")]),s._v("\nkubectl run my-pod-nginx --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23 --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml --dry-run"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" pod.yaml\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br")])]),e("h3",{attrs:{id:"deployment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[s._v("#")]),s._v(" Deployment")]),s._v(" "),e("p",[s._v("Deployment æ§åˆ¶ Podï¼Œä½¿Podæ‹¥æœ‰å¤šä¸ªå‰¯æœ¬ï¼Œè‡ªæ„ˆã€æ‰©å®¹ç­‰åŠŸèƒ½ã€‚")]),s._v(" "),e("p",[s._v("è¯­æ³•æ ¼å¼ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" deploy "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("NAME"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("flags"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nkubectl "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("command"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" deploy --help\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("ç¤ºä¾‹ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl get deployment\n\nkubectl create deployment my-deploy-nginx --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23\nkubectl create deployment my-deploy-nginx --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23 --replicas"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\nkubectl expose deployment my-deploy-nginx --target-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10080")]),s._v(" --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --name my-deploy-nginx-svc\n\nkubectl edit deployment my-deploy-nginx\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ‰©å®¹")]),s._v("\nkubectl scale --current-replicas"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" --replicas"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" deployment/my-deploy-nginx\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç¼©å®¹")]),s._v("\nkubectl scale --current-replicas"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" --replicas"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" deployment/my-deploy-nginx\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ»šåŠ¨æ›´æ–°/ä¸åœæœºç»´æŠ¤")]),s._v("\nkubectl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" image deployment/my-deploy-nginx "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("nginx")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("nginx:1.9.1 --record\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å†å²è®°å½•")]),s._v("\nkubectl rollout "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("history")]),s._v(" deployment/my-deploy-nginx\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ç‰ˆæœ¬å›é€€")]),s._v("\nkubectl rollout undo deployment/my-deploy-nginx --to-revision"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n\nkubectl delete deployment my-deploy-nginx\nkubectl delete -n default deployment my-deploy-nginx\n\nkubectl get deployment my-deploy-nginx -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml\nkubectl get deployment my-deploy-nginx -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" deployment.yaml\nkubectl create deployment my-deploy-nginx --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23 --replicas"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml --dry-run"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" deployment.yaml\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br")])]),e("h3",{attrs:{id:"service"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#service"}},[s._v("#")]),s._v(" Service")]),s._v(" "),e("p",[s._v("Service ï¼Œå°†ä¸€ç»„Podså…¬å¼€ä¸ºç½‘ç»œæœåŠ¡çš„æŠ½è±¡æ–¹æ³•ï¼ŒPodçš„æœåŠ¡å‘ç°å’Œè´Ÿè½½å‡è¡¡ã€‚")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Expose a resource as a new Kubernetes service.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# type: Type for this service: ClusterIP, NodePort, LoadBalancer, or ExternalName. Default is 'ClusterIP'.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --type=ClusterIP: ä»…ä»…é›†ç¾¤å†…è®¿é—®")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --type=NodePort: é›†ç¾¤å¤–å¯ä»¥è®¿é—®")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --port: The port that the service should serve on.")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# --target-port: Name or number for the port on the container that the service should direct traffic to")]),s._v("\nkubectl expose pod my-pod-nginx --target-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10080")]),s._v(" --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --name my-pod-nginx-svc\nkubectl expose pod my-pod-tomcat --target-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18080")]),s._v(" --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --name my-pod-tomcat-svc\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹å·²å­˜åœ¨svcçš„yamlé…ç½®")]),s._v("\nkubectl get svc my-pod-nginx -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å‡ºå·²å­˜åœ¨svcçš„yamlé…ç½®")]),s._v("\nkubectl get svc my-pod-nginx -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" service.yaml\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹ä¸å­˜åœ¨svcçš„yamlé…ç½®")]),s._v("\nkubectl expose pod my-pod-nginx --target-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10080")]),s._v(" --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --name my-pod-nginx-svc -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml --dry-run"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å¯¼å‡ºä¸å­˜åœ¨svcçš„yamlé…ç½®")]),s._v("\nkubectl expose pod my-pod-nginx --target-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10080")]),s._v(" --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --name my-pod-nginx-svc -o"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("yaml --dry-run"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("client "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" service.yaml\n\nkubectl get "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("\nkubectl get svc\nkubectl delete svc my-pod-nginx\nkubectl delete -n default "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" my-pod-nginx\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])]),e("h3",{attrs:{id:"ingress"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ingress"}},[s._v("#")]),s._v(" Ingress")]),s._v(" "),e("p",[s._v("Ingressç”¨äºå®ç°ç”¨åŸŸåè®¿é—®k8så†…éƒ¨åº”ç”¨ã€‚")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://kubernetes.github.io/ingress-nginx/deploy/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://kubernetes.github.io/ingress-nginx/deploy/"),e("OutboundLink")],1)]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("minikube addons "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" ingress\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"yaml"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#yaml"}},[s._v("#")]),s._v(" YAML")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl apply -f xxx.yaml\nkubectl delete -f xxx.yaml\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"example"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[s._v("#")]),s._v(" Example")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ›å»ºpod")]),s._v("\nkubectl run my-pod-nginx --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/nginx:1.23 --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\nkubectl run my-pod-tomcat --image"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("docker.io/tomcat --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# å®¹å™¨å†…è®¿é—®")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆ†åˆ«è¿›å…¥my-pod-nginxå’Œmy-pod-tomcatå®¹å™¨å†…éƒ¨ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" localhost:80\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" localhost:8080\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¸ºpodåˆ›å»ºsvc")]),s._v("\nkubectl expose pod my-pod-nginx --target-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10080")]),s._v(" --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --name my-pod-nginx-svc\nkubectl expose pod my-pod-tomcat --target-port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" --port"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18080")]),s._v(" --type"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("NodePort --name my-pod-tomcat-svc\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŸ¥çœ‹svc")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 10080:37442/TCPï¼Œ10080ç”¨äºé›†ç¾¤å†…è®¿é—®ï¼Œ37442ç”¨äºé›†ç¾¤å¤–è®¿é—®")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("k8s@k8s ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ kubectl get svc\nNAME                TYPE        CLUSTER-IP      EXTERNAL-IP   PORT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("           AGE\nkubernetes          ClusterIP   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".0.1       "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("/TCP           53d\nmy-pod-nginx-svc    NodePort    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.100")]),s._v(".244.81   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10080")]),s._v(":37442/TCP   104s\nmy-pod-tomcat-svc   NodePort    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.103")]),s._v(".126.25   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18080")]),s._v(":58008/TCP   2s\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é›†ç¾¤å†…è®¿é—®")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åœ¨podä¸­å¯ä»¥é€šè¿‡serviceIp:portæˆ–è€…serviceName.namespace.svc:portè®¿é—®å…¶ä»–pod")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥my-pod-nginxå®¹å™¨å†…éƒ¨ï¼Œè®¿é—®tomcat")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" my-pod-tomcat-svc.default.svc:18080\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¿›å…¥my-pod-tomcatå®¹å™¨å†…éƒ¨ï¼Œè®¿é—®nginx")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" my-pod-nginx-svc.default.svc:10080\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é›†ç¾¤å¤–è®¿é—®ï¼ˆåœ¨å®¿ä¸»æœºä¸­ï¼‰")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("k8s@k8s ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ minikube "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".49.2\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("k8s@k8s ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".49.2:37442\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("DOCTYPE html"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("html"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("head"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("title"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("Welcome to nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/title"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("style"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nhtml "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" color-scheme: light dark"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nbody "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" width: 35em"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" margin: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" auto"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nfont-family: Tahoma, Verdana, Arial, sans-serif"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/style"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/head"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("body"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("h"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("Welcome to nginx"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/h"),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[s._v("1")]),s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("p"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("If you see this page, the nginx web server is successfully installed and\nworking. Further configuration is required."),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/p"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("p"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("For online documentation and support please refer to\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("a "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("href")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://nginx.org/"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("nginx.org"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/a"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("."),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("br/"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nCommercial support is available at\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("a "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("href")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://nginx.com/"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("nginx.com"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/a"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("."),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/p"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("p"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("em"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("Thank you "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" using nginx."),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/em"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/p"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/body"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("/html"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# é›†ç¾¤å¤–è®¿é—®ï¼ˆåœ¨æµè§ˆå™¨ä¸­ï¼‰")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#port-forward")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Forward one or more local ports to a pod. ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl port-forward TYPE/NAME [options] [LOCAL_PORT:]REMOTE_PORT [...[LOCAL_PORT_N:]REMOTE_PORT_N]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Listen on port 37442 on all addresses, forwarding to 80 in the pod. Press Ctrl+C to end port exposure. Enter in the browser address bar http://192.168.1.26:37442/")]),s._v("\nkubectl port-forward --address "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0 pod/my-pod-nginx "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("37442")]),s._v(":80\nkubectl port-forward --address "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),s._v(".0.0 pod/my-pod-tomcat "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("58008")]),s._v(":8080\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br"),e("span",{staticClass:"line-number"},[s._v("49")]),e("br"),e("span",{staticClass:"line-number"},[s._v("50")]),e("br"),e("span",{staticClass:"line-number"},[s._v("51")]),e("br"),e("span",{staticClass:"line-number"},[s._v("52")]),e("br"),e("span",{staticClass:"line-number"},[s._v("53")]),e("br"),e("span",{staticClass:"line-number"},[s._v("54")]),e("br"),e("span",{staticClass:"line-number"},[s._v("55")]),e("br"),e("span",{staticClass:"line-number"},[s._v("56")]),e("br"),e("span",{staticClass:"line-number"},[s._v("57")]),e("br"),e("span",{staticClass:"line-number"},[s._v("58")]),e("br"),e("span",{staticClass:"line-number"},[s._v("59")]),e("br"),e("span",{staticClass:"line-number"},[s._v("60")]),e("br"),e("span",{staticClass:"line-number"},[s._v("61")]),e("br"),e("span",{staticClass:"line-number"},[s._v("62")]),e("br"),e("span",{staticClass:"line-number"},[s._v("63")]),e("br")])]),e("h2",{attrs:{id:"q-a"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#q-a"}},[s._v("#")]),s._v(" Q&A")]),s._v(" "),e("h3",{attrs:{id:"serviceç±»å‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#serviceç±»å‹"}},[s._v("#")]),s._v(" Serviceç±»å‹")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("ClusterIPï¼ˆé›†ç¾¤IPï¼‰ï¼šåœ¨é›†ç¾¤å†…ä½¿ç”¨ï¼Œä¹Ÿæ˜¯é»˜è®¤å€¼ã€‚")])]),s._v(" "),e("li",[e("p",[s._v("ExternalNameï¼ˆå¤–éƒ¨åç§°ï¼‰ï¼šå°† Service æ˜ å°„åˆ° DNS åç§°")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ExternalName\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("externalName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my.database.example.com\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])])]),s._v(" "),e("li",[e("p",[s._v("LoadBalancerï¼ˆè´Ÿè½½å‡è¡¡å™¨ï¼‰")])]),s._v(" "),e("li",[e("p",[s._v("NodePortï¼ˆèŠ‚ç‚¹ç«¯å£ï¼‰ï¼šåœ¨é›†ç¾¤å¤–å¯ä»¥è®¿é—®ï¼Œæœ‰æ•ˆçš„ç«¯å£å·èŒƒå›´æ˜¯ 30000-32767ã€‚")]),s._v(" "),e("p",[s._v("å¦‚æœä¸å¤Ÿçš„è¯ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿›è¡Œæ‰©å±•ï¼š")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("minikube start --extra-config"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("apiserver.service-node-port-range"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("-65535\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" my"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("frontend"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" NodePort\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" web\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" http\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("protocol")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" TCP\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodePort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30000")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 30000-32767, Optional field")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br")])])])]),s._v(" "),e("h3",{attrs:{id:"podä¸‰ç§æ¢é’ˆ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#podä¸‰ç§æ¢é’ˆ"}},[s._v("#")]),s._v(" Podä¸‰ç§æ¢é’ˆ")]),s._v(" "),e("p",[s._v("StartupProbeï¼šk8s 1.16ç‰ˆæœ¬åæ–°åŠ çš„æ¢æµ‹æ–¹å¼ï¼Œ"),e("strong",[s._v("ç”¨äºåˆ¤æ–­å®¹å™¨å†…åº”ç”¨ç¨‹åºæ˜¯å¦å·²ç»å¯åŠ¨")]),s._v("ã€‚å¦‚æœé…ç½®äº†startupProbeï¼Œå°±ä¼šå…ˆç¦æ­¢å…¶ä»–çš„æ¢æµ‹ï¼Œç›´åˆ°å®ƒæˆåŠŸä¸ºæ­¢ï¼ŒæˆåŠŸåå°†ä¸å†è¿›è¡Œæ¢æµ‹ã€‚æ¯”è¾ƒé€‚ç”¨äºå®¹å™¨å¯åŠ¨æ—¶é—´é•¿çš„åœºæ™¯ã€‚è‹¥æ²¡æœ‰é…ç½®è¯¥æ¢é’ˆï¼Œé»˜è®¤å°±æ˜¯successã€‚")]),s._v(" "),e("p",[s._v("LivenessProbeï¼š"),e("strong",[s._v("ç”¨äºæ¢æµ‹å®¹å™¨æ˜¯å¦è¿è¡Œ")]),s._v("ï¼Œå¦‚æœæ¢æµ‹å¤±è´¥ï¼Œkubeletä¼šæ ¹æ®é…ç½®çš„é‡å¯ç­–ç•¥è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚è‹¥æ²¡æœ‰é…ç½®è¯¥æ¢é’ˆï¼Œé»˜è®¤å°±æ˜¯successã€‚")]),s._v(" "),e("p",[s._v("ReadinessProbeï¼šä¸€èˆ¬"),e("strong",[s._v("ç”¨äºæ¢æµ‹å®¹å™¨å†…çš„ç¨‹åºæ˜¯å¦å¥åº·")]),s._v("ï¼Œå®ƒçš„è¿”å›å€¼å¦‚æœä¸ºsuccessï¼Œé‚£ä¹ˆå°±ä»£è¡¨è¿™ä¸ªå®¹å™¨å·²ç»å®Œæˆå¯åŠ¨ï¼Œå¹¶ä¸”ç¨‹åºå·²ç»æ˜¯å¯ä»¥æ¥å—æµé‡çš„çŠ¶æ€ã€‚")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("startupProbe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æŒ‡å®šæ¢é’ˆæ¢æµ‹æ–¹å¼ä¸ºHTTPGetActionã€‚")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("httpGet")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /api/healthcheck\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("livenessProbe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("httpGet")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /api/healthcheck\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("  \n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("initialDelaySeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("periodSeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("readinessProbe")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("httpGet")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("path")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /api/healthcheck\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br")])]),e("p",[s._v("æ¢é’ˆçš„æ¢æµ‹æ–¹å¼ï¼š")]),s._v(" "),e("ol",[e("li",[s._v("ExecActionï¼šåœ¨å®¹å™¨å†…æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¦‚æœè¿”å›å€¼ä¸º0ï¼Œåˆ™è®¤ä¸ºå®¹å™¨å¥åº·ã€‚")]),s._v(" "),e("li",[s._v("TCPSocketActionï¼šé€šè¿‡TCPè¿æ¥æ£€æŸ¥å®¹å™¨å†…çš„ç«¯å£æ˜¯å¦é€šçš„ï¼Œå¦‚æœæ˜¯é€šçš„å°±è®¤ä¸ºå®¹å™¨å¥åº·ã€‚")]),s._v(" "),e("li",[s._v("HTTPGetActionï¼šé€šè¿‡åº”ç”¨ç¨‹åºæš´éœ²çš„APIåœ°å€æ£€æŸ¥ç¨‹åºæ˜¯å¦æ­£å¸¸ï¼Œå¦‚æœçŠ¶æ€ç ä¸º200~400ä¹‹é—´ï¼Œåˆ™è®¤ä¸ºå®¹å™¨å¥åº·ã€‚ï¼ˆå¸¸ç”¨ï¼‰")])]),s._v(" "),e("p",[s._v("æ¢é’ˆçš„æ£€æŸ¥å‚æ•°ï¼š")]),s._v(" "),e("div",{staticClass:"language-yaml line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("initialDelaySeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),s._v("\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# åˆå§‹åŒ–æ—¶é—´ï¼ŒæŒ‡å®šæ¢é’ˆå¤šå°‘ç§’åå¯åŠ¨")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("timeoutSeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# è¶…æ—¶æ—¶é—´")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("periodSeconds")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æµ‹é—´éš”ï¼ŒæŒ‡å®šæ¢é’ˆçš„æ¢æµ‹å‘¨æœŸ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("successThreshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æŸ¥æˆåŠŸä¸º1æ¬¡è¡¨ç¤ºå°±ç»ª")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("failureThreshold")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\t\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ£€æµ‹å¤±è´¥2æ¬¡è¡¨ç¤ºæœªå°±ç»ª")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br")])]),e("h3",{attrs:{id:"è®¿é—®tomcatå‡ºç°404"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è®¿é—®tomcatå‡ºç°404"}},[s._v("#")]),s._v(" è®¿é—®Tomcatå‡ºç°404")]),s._v(" "),e("p",[s._v("è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œ"),e("code",[s._v("ls")]),s._v(" æŸ¥çœ‹æ–‡ä»¶å¤¹ï¼Œå‘ç°æœ‰ä¸ªç©ºçš„"),e("code",[s._v("webapps")]),s._v("ï¼Œä½†æ˜¯æœ‰å¦å¤–ä¸€ä¸ª"),e("code",[s._v("webapp.dist")]),s._v("é‡Œé¢æœ‰ç›¸å…³çš„æ–‡ä»¶ï¼Œå°†"),e("code",[s._v("webapp.dist")]),s._v("çš„æ–‡ä»¶æ‹·è´è¿‡æ¥å³å¯ã€‚")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -r webapps.dist/* ./webapps\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"ä¿®æ”¹nginxé¦–é¡µ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹nginxé¦–é¡µ"}},[s._v("#")]),s._v(" ä¿®æ”¹Nginxé¦–é¡µ")]),s._v(" "),e("p",[s._v("è¿›å…¥å®¹å™¨å†…éƒ¨ï¼Œæ‰§è¡Œ")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"111"')]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/share/nginx/html/index.html\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"links"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[s._v("#")]),s._v(" Links")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.bilibili.com/video/BV13Q4y1C7hS",target:"_blank",rel:"noopener noreferrer"}},[s._v("äº‘åŸç”ŸJavaæ¶æ„å¸ˆçš„ç¬¬ä¸€è¯¾K8s+Docker+KubeSphere+DevOps"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.bilibili.com/video/BV16Z4y1b74y/",target:"_blank",rel:"noopener noreferrer"}},[s._v("ï¼ˆ2022ç‰ˆï¼‰æœ€æ–°ã€æœ€å…¨ã€æœ€è¯¦ç»†çš„Kubernetesï¼ˆK8sï¼‰æ•™ç¨‹ï¼Œä»K8så®‰è£…åˆ°å®æˆ˜ä¸€å¥—æå®š"),e("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=n.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{634:function(t,s,a){t.exports=a.p+"assets/img/20240718223749.0ec49c75.jpg"},737:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"shell-脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-脚本"}},[t._v("#")]),t._v(" Shell 脚本")]),t._v(" "),e("p",[t._v("Shell 脚本的第一行一般是：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("#! 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。")]),t._v(" "),e("p",[t._v("Linux 的 Shell 种类众多，常见的有：")]),t._v(" "),e("ul",[e("li",[t._v("Bourne Shell（/usr/bin/sh或/bin/sh）")]),t._v(" "),e("li",[t._v("Bourne Again Shell（/bin/bash）")]),t._v(" "),e("li",[t._v("C Shell（/usr/bin/csh）")]),t._v(" "),e("li",[t._v("K Shell（/usr/bin/ksh）")]),t._v(" "),e("li",[t._v("Shell for Root（/sbin/sh）")]),t._v(" "),e("li",[t._v("……")])]),t._v(" "),e("h2",{attrs:{id:"运行-shell-脚本的两种方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行-shell-脚本的两种方法"}},[t._v("#")]),t._v(" 运行 Shell 脚本的两种方法")]),t._v(" "),e("h3",{attrs:{id:"作为可执行程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作为可执行程序"}},[t._v("#")]),t._v(" 作为可执行程序")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("chmod")]),t._v(" +x ./test.sh "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使脚本具有执行权限")]),t._v("\n./test.sh "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 执行脚本")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("注意，一定要写成 ./test.sh，而不是 test.sh，运行其它二进制的程序也一样，直接写 test.sh，linux 系统会去 PATH 里寻找有没有叫 test.sh 的，而只有 /bin, /sbin, /usr/bin，/usr/sbin 等在 PATH 里，你的当前目录通常不在 PATH 里，所以写成 test.sh 是会找不到命令的，要用 ./test.sh 告诉系统说，就在当前目录找。")]),t._v(" "),e("h3",{attrs:{id:"作为解释器参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#作为解释器参数"}},[t._v("#")]),t._v(" 作为解释器参数")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("/bin/sh ./test.sh "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 执行脚本")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("sh")]),t._v(" ./test.sh "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 执行脚本")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[e("img",{attrs:{src:a(634),alt:""}})]),t._v(" "),e("h2",{attrs:{id:"shell-变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-变量"}},[t._v("#")]),t._v(" Shell 变量")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.runoob.com/linux/linux-shell-passing-arguments.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.runoob.com/linux/linux-shell-passing-arguments.html"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("Shell 变量名只能包含字母、数字和下划线，不能以数字开头。")]),t._v(" "),e("p",[t._v("变量名与等号之间不能有空格。等号两侧避免使用空格：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 正确的赋值")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("variable_name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("value\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 有可能会导致错误")]),t._v("\nvariable_name "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" value\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("使用一个定义过的变量，只要在变量名前面加美元符号即可，如：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$variable_name")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${variable_name}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("p",[t._v("变量名外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界。推荐给所有变量加上花括号，避免不必要的错误，如：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("skill")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" Java Python Shell"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解释器会把$skillScript当成一个变量（其值为空）")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I am good at '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$skillScript")]),t._v('"')]),t._v(" \n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I am good at '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${skill}")]),t._v('Script"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("已定义的变量，可以被重新定义，如：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("variable_name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("new_value "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用变量的时候才加美元符（$）")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"字符串变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符串变量"}},[t._v("#")]),t._v(" 字符串变量")]),t._v(" "),e("p",[e("strong",[t._v("字符串变量")]),t._v("：使用单引号 ' 或双引号 \" 来定义字符串，例如：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("my_string")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello, World!'")]),t._v("\n或者\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("my_string")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Hello, World!"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的。")]),t._v(" "),e("p",[t._v("双引号里可以有变量，可以出现转义字符。")]),t._v(" "),e("p",[t._v("拼接字符串：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("your_name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"runoob"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用双引号拼接")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("greeting_1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello, "')]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$your_name")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('" !"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("greeting_2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello, '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${your_name}")]),t._v(' !"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$greeting_1")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$greeting_2")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用单引号拼接")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("greeting_3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello, '")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$your_name")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("' !'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("greeting_4")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello, ${your_name} !'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 原样输出hello, ${your_name} !")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$greeting_3")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$greeting_4")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br")])]),e("p",[t._v("获取字符串长度：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("string")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"abcd"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("string}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 等价于 ${#string[0]}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("h3",{attrs:{id:"整数变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#整数变量"}},[t._v("#")]),t._v(" 整数变量")]),t._v(" "),e("p",[e("strong",[t._v("整数变量")]),t._v("： 在一些Shell中，你可以使用 "),e("strong",[t._v("declare")]),t._v(" 或 "),e("strong",[t._v("typeset")]),t._v(" 命令来声明整数变量。")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("declare")]),t._v(" -i "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("my_integer")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("42")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"数组变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#数组变量"}},[t._v("#")]),t._v(" 数组变量")]),t._v(" "),e("p",[e("strong",[t._v("数组变量：")]),t._v(" Shell 也支持数组，允许你在一个变量中存储多个值。")]),t._v(" "),e("p",[t._v('在 Shell 中，用括号来表示数组，数组元素用"空格"符号分割开。定义数组的一般形式为：')]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("数组名"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("值1 值2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". 值n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("例如：")]),t._v(" "),e("div",{staticClass:"language-she line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("array_name=(value0 value1 value2 value3)\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("或者：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("array_name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\nvalue0\nvalue1\nvalue2\nvalue3\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("p",[t._v("整数索引数组：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("my_array")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("Bash 支持关联数组，可以使用任意的字符串、或者整数作为下标来访问数组元素。")]),t._v(" "),e("p",[t._v("关联数组使用 declare 命令来声明，语法格式如下：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("declare")]),t._v(" -A array_name\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("-A")]),t._v(" 选项就是用于声明一个关联数组。")]),t._v(" "),e("p",[t._v("关联数组的键是唯一的。")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("declare")]),t._v(" -A associative_array\nassociative_array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"John"')]),t._v("\nassociative_array"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])]),e("p",[t._v("读取数组元素值的一般格式是：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${数组名"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("下标"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("例如：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("valuen")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("数组常用脚本：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[t._v("array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("A\narray_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("B\narray_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("C\narray_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("D\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取数组中的所有元素")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数组的元素为: '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("*"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v('"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数组的元素为: '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v('"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在数组前加一个感叹号 ! 可以获取数组的所有键，例如：")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数组的键为: '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("*"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v('"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数组的键为: '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v('"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取得数组元素的个数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数组元素的个数为: '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("*"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v('"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"数组元素的个数为: '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("@"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v('"')]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取得数组单个元素的长度")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"第n个数组元素的长度为: '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("#")]),t._v("array_name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("}")]),t._v('"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("h3",{attrs:{id:"环境变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),e("p",[e("strong",[t._v("环境变量：")]),t._v(" 这些是由操作系统或用户设置的特殊变量，用于配置 Shell 的行为和影响其执行环境。")]),t._v(" "),e("p",[t._v("例如，PATH 变量包含了操作系统搜索可执行文件的路径：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("h3",{attrs:{id:"特殊变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#特殊变量"}},[t._v("#")]),t._v(" 特殊变量")]),t._v(" "),e("p",[e("strong",[t._v("特殊变量：")]),t._v(" 有一些特殊变量在 Shell 中具有特殊含义。例如：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("特殊变量")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$0")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("脚本或函数的名称")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$1...$2")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("$1 表示脚本或函数的第一个参数，$2 表示脚本或函数的第二个参数，当n>=10时，需要使用${n}来获取参数。。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$#")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("传递到脚本或函数的参数个数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$*")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("传递给脚本或函数的全部参数。以一个单字符串显示所有传递到脚本或函数的参数")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$$")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("脚本运行的当前进程ID号")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$!")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("后台运行的最后一个进程的ID号")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$@")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("传递给脚本或函数的全部参数。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$-")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("显示Shell使用的当前选项，与set命令功能相同。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$?")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。在Linux shell脚本中，可以使用特殊变量$?来获取上一个命令的退出状态码（exit status code）。这个状态码是上一个命令执行后退出的时候返回的数值。一般来说，如果命令执行成功，状态码为0；如果命令执行失败，状态码非0。退出状态码是一个0到255的整数。一般来说，正数的退出状态码是由程序自己定义的，通常用于表示不同的错误类型。而负数的退出状态码通常是由于shell内部错误或者是信号导致的。在实际应用中，你应该尽量避免返回负的退出状态码，除非这是由于shell内部的特定错误。如果你的程序需要返回错误代码，应当使用0以上的正数值。")])])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("退出码")]),t._v(" "),e("th",[t._v("解释")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("0")]),t._v(" "),e("td",[t._v("命令成功执行")])]),t._v(" "),e("tr",[e("td",[t._v("1")]),t._v(" "),e("td",[t._v("通用错误代码")])]),t._v(" "),e("tr",[e("td",[t._v("2")]),t._v(" "),e("td",[t._v("命令（或参数）使用不当")])]),t._v(" "),e("tr",[e("td",[t._v("126")]),t._v(" "),e("td",[t._v("权限被拒绝（或）无法执行")])]),t._v(" "),e("tr",[e("td",[t._v("127")]),t._v(" "),e("td",[t._v("未找到命令，或 PATH 错误")])]),t._v(" "),e("tr",[e("td",[t._v("128+n")]),t._v(" "),e("td",[t._v("命令被信号从外部终止，或遇到致命错误")])]),t._v(" "),e("tr",[e("td",[t._v("130")]),t._v(" "),e("td",[t._v("通过 Ctrl+C 或 SIGINT 终止（终止代码 2 或键盘中断）")])]),t._v(" "),e("tr",[e("td",[t._v("143")]),t._v(" "),e("td",[t._v("通过 SIGTERM 终止（默认终止）")])]),t._v(" "),e("tr",[e("td",[t._v("255/*")]),t._v(" "),e("td",[t._v("退出码超过了 0-255 的范围，因此重新计算（LCTT 译注：超过 255 后，用退出码对 256 取模）")])])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Exit Code Number")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Meaning")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Example")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Comments")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("1")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Catchall for general errors")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("var1 = 1/0")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('Miscellaneous errors, such as "divide by zero" and other impermissible operations')])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("126")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Command invoked cannot execute")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("em",[t._v("/dev/null")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Permission problem or command is not an executable")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("127")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('"command not found"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("illegal_command")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Possible problem with "),e("strong",[t._v("$PATH")]),t._v(" or a typo")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("128")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Invalid argument to exit")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("em",[t._v("exit 3.14159")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("exit takes only integer args in the range 0 - 255 (see first footnote)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("128+n")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('Fatal error signal "n"')]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("em",[t._v("kill -9")]),t._v(" $PPID of script")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("$?")]),t._v(" returns 137 (128 + 9)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("130")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Script terminated by "),e("em",[t._v("Control-C")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("em",[t._v("Ctl-C")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("em",[t._v("Control-C")]),t._v(" is fatal error signal 2, (130 = 128 + 2, see above)")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("255*")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Exit status out of range")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("em",[t._v("exit -1")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("exit takes only integer args in the range 0 - 255")])])])]),t._v(" "),e("p",[t._v("以下是一个简单的示例脚本，它检查最后一个命令的退出状态码，并打印出相应的消息：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 执行一个命令")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" /some/directory\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 检查命令的退出状态码")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$?")]),t._v(" -eq "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"命令执行成功"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"命令执行失败，退出状态码为 '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$?")]),t._v('"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br")])]),e("p",[t._v("在实际使用中，通常会直接在命令后面进行检查，而不是先执行命令，再检查"),e("code",[t._v("$?")]),t._v("：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 直接在命令后检查状态码")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ls")]),t._v(" /some/directory"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"命令执行成功"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"命令执行失败，退出状态码为 '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$?")]),t._v('"')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])]),e("p",[t._v("知识扩展——return和exit的使用：")]),t._v(" "),e("ol",[e("li",[t._v("return是一个关键字； exit是一个函数。")]),t._v(" "),e("li",[t._v("return是编程语言级别，它表示调用堆栈的返回；exit是系统调用级别，它表示了一个进程的结束。")]),t._v(" "),e("li",[t._v("return是函数的退出（返回）；exit是进程的退出，exit用于退出整个shell脚本进程。")])]),t._v(" "),e("h2",{attrs:{id:"shell-基本运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-基本运算符"}},[t._v("#")]),t._v(" Shell 基本运算符")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.runoob.com/linux/linux-shell-basic-operators.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.runoob.com/linux/linux-shell-basic-operators.html"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"算数运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#算数运算符"}},[t._v("#")]),t._v(" 算数运算符")]),t._v(" "),e("p",[t._v("原生bash不支持简单的数学运算，但是可以通过其他命令来实现，例如 awk 和 expr，expr 最常用。")]),t._v(" "),e("p",[t._v("expr 是一款表达式计算工具，使用它能完成表达式的求值操作。")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("val")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("expr")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" + "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"两数之和为 : '),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$val")]),t._v('"')]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("两点注意：")]),t._v(" "),e("ul",[e("li",[t._v("表达式和运算符之间要有空格，例如 2+2 是不对的，必须写成 2 + 2，这与我们熟悉的大多数编程语言不一样。")]),t._v(" "),e("li",[t._v("完整的表达式要被 "),e("strong",[t._v("``")]),t._v(" 包含，注意这个字符不是常用的单引号，在 Esc 键下边。")])]),t._v(" "),e("h3",{attrs:{id:"自增和自减操作符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自增和自减操作符"}},[t._v("#")]),t._v(" 自增和自减操作符")]),t._v(" "),e("p",[t._v("使用 $(( )) 进行算术运算")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化变量")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("num")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自增")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("num")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$((")]),t._v("num "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("))")])]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自减")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("num")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$((")]),t._v("num "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("))")])]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$num")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br")])]),e("h3",{attrs:{id:"关系运算符-数值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关系运算符-数值"}},[t._v("#")]),t._v(" 关系运算符（数值）")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("运算符")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-eq")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测两个数是否相等，相等返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -eq $b ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-ne")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测两个数是否不相等，不相等返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -ne $b ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-gt")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否大于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -gt $b ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-lt")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否小于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -lt $b ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-ge")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否大于等于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -ge $b ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-le")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否小于等于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -le $b ] 返回 true。")])])])]),t._v(" "),e("p",[t._v("如果使用 "),e("code",[t._v("((...))")]),t._v(" 作为判断语句，大于和小于可以直接使用 > 和 <，其他如此类推。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("运算符")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("==")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测两个数是否相等，相等返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(( $a == $b )) 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("!=")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测两个数是否不相等，不相等返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(( $a != $b )) 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v(">")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否大于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(( $a > $b )) 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("<")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否小于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(( $a < $b )) 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v(">=")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否大于等于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(( $a >= $b )) 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("<=")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测左边的数是否小于等于右边的，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("(( $a <= $b )) 返回 true。")])])])]),t._v(" "),e("h3",{attrs:{id:"字符串运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#字符串运算符"}},[t._v("#")]),t._v(" 字符串运算符")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("运算符")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("=")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测两个字符串是否相等，相等返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[[ $a = $b ]] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("!=")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测两个字符串是否不相等，不相等返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[[ $a != $b ]] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-z")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测字符串长度是否为0，为0返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[[ -z $a ]] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-n")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测字符串长度是否不为 0，不为 0 返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v('[[ -n "$a" ]] 返回 true。')])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("$")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测字符串是否不为空，不为空返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[[ $a ]] 返回 true。")])])])]),t._v(" "),e("h3",{attrs:{id:"文件测试运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#文件测试运算符"}},[t._v("#")]),t._v(" 文件测试运算符")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("操作符")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-b file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否是块设备文件，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -b $file ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-c file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否是字符设备文件，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -c $file ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-d file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否是目录，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -d $file ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-f file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否是普通文件（既不是目录，也不是设备文件），如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -f $file ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-g file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否设置了 SGID 位，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -g $file ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-k file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否设置了粘着位(Sticky Bit)，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -k $file ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-p file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否是有名管道，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -p $file ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-u file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否设置了 SUID 位，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -u $file ] 返回 false。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-r file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否可读，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -r $file ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-w file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否可写，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -w $file ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-x file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否可执行，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -x $file ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-s file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否为空（文件大小是否大于0），不为空返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -s $file ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-e file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件（包括目录）是否存在，如果是，则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ -e $file ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-S file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("判断某文件是否 socket。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-L file")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("检测文件是否存在并且是一个符号链接。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),e("h3",{attrs:{id:"布尔运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#布尔运算符"}},[t._v("#")]),t._v(" 布尔运算符")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("运算符")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("!")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("非运算，表达式为 true 则返回 false，否则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ ! false ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-o")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("或运算，有一个表达式为 true 则返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -lt 20 -o $b -gt 100 ] 返回 true。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("-a")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("与运算，两个表达式都为 true 才返回 true。")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[ $a -lt 20 -a $b -gt 100 ] 返回 false。")])])])]),t._v(" "),e("h3",{attrs:{id:"逻辑运算符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#逻辑运算符"}},[t._v("#")]),t._v(" 逻辑运算符")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("运算符")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("举例")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("&&")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("逻辑的 AND")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[[ $a -lt 100 && $b -gt 100 ]] 返回 false")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("||")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("逻辑的 OR")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("[[ $a -lt 100 || $b -gt 100 ]] 返回 true")])])])]),t._v(" "),e("h2",{attrs:{id:"shell-test-命令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-test-命令"}},[t._v("#")]),t._v(" Shell test 命令")]),t._v(" "),e("p",[t._v("Shell中的 test 命令用于检查某个条件是否成立，它可以进行数值、字符和文件三个方面的测试。")]),t._v(" "),e("p",[t._v("在Shell脚本中，‌"),e("code",[t._v("test")]),t._v("命令和"),e("code",[t._v("[]")]),t._v("（‌方括号表达式）‌都用于条件测试，‌但它们在使用上有一些区别。‌")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("test命令")]),t._v("：‌这是一个独立的命令，‌用于测试条件表达式的值，‌并根据测试结果返回0（‌真）‌或非0值（‌假）‌。‌例如，‌"),e("code",[t._v("test -f file.txt")]),t._v("会检查"),e("code",[t._v("file.txt")]),t._v("是否存在并且是一个普通文件。‌如果条件为真，‌则返回0；‌否则返回非0值。‌")]),t._v(" "),e("li",[e("strong",[t._v("方括号表达式")]),t._v("：‌"),e("code",[t._v("[ ]")]),t._v("用于在脚本中进行条件测试，‌它实际上是一个命令替换的语法，‌可以与逻辑运算符一起使用。‌例如，‌"),e("code",[t._v("[ -f file.txt ]")]),t._v("与"),e("code",[t._v("test -f file.txt")]),t._v("是等价的。‌方括号表达式也返回0或非0值，‌表示条件的真假。‌")])]),t._v(" "),e("p",[t._v("在Shell脚本中，‌"),e("code",[t._v("test")]),t._v("命令和"),e("code",[t._v("[]")]),t._v("通常可以互换使用，‌但有一些细微的差别。‌例如，‌当使用逻辑运算符如"),e("code",[t._v("&&")]),t._v("和"),e("code",[t._v("||")]),t._v("时，‌"),e("code",[t._v("[]")]),t._v("不支持旧式的"),e("code",[t._v("-a")]),t._v("和"),e("code",[t._v("-o")]),t._v("运算符，‌而推荐使用"),e("code",[t._v("&&")]),t._v("和"),e("code",[t._v("||")]),t._v("。‌此外，‌对于模式匹配和正则表达式匹配，‌通常使用"),e("code",[t._v("[[ ]]")]),t._v("（‌双左方括号）‌，‌而基本的条件测试则可以使用"),e("code",[t._v("[ ]")]),t._v("或"),e("code",[t._v("test")]),t._v("命令。‌")]),t._v(" "),e("p",[t._v("总的来说，‌虽然"),e("code",[t._v("test")]),t._v("命令和"),e("code",[t._v("[]")]),t._v("在功能上是相似的，‌但它们的使用场景和语法有所不同。‌在编写Shell脚本时，‌应根据具体的需求和上下文选择合适的方法进行条件测试。")]),t._v(" "),e("h2",{attrs:{id:"shell-括号的用法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-括号的用法"}},[t._v("#")]),t._v(" Shell 括号的用法")]),t._v(" "),e("p",[t._v("在Shell中，‌括号有小括号、‌中括号和大括号。‌每种括号都有其特定的用途和语法规则。‌")]),t._v(" "),e("ul",[e("li",[e("p",[e("strong",[t._v("小括号")]),t._v("：‌")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("单小括号：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("用于命令替换。‌例如，‌"),e("code",[t._v("echo $(ls)")]),t._v("会执行"),e("code",[t._v("ls")]),t._v("命令，‌并将输出作为"),e("code",[t._v("echo")]),t._v("命令的参数，等同于"),e("code",[t._v("echo `ls`")]),t._v("。‌")])]),t._v(" "),e("li",[e("p",[t._v("用于命令组合和执行，‌可以创建一个子shell来顺序执行命令。‌例如，‌"),e("code",[t._v("(pwd ; ls ; cd /etc ; pwd ; cd ; pwd ; ls)")]),t._v(" 会创建一个子shell并执行其中的命令。‌")])]),t._v(" "),e("li",[e("p",[t._v("用于初始化数组。‌例如，‌"),e("code",[t._v("array=(a b c d)")]),t._v("会创建一个包含元素a、‌b、‌c、‌d的数组。‌")])])])]),t._v(" "),e("li",[e("p",[t._v("双小括号：")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("用于算术运算和比较。‌((表达式))常用于算术运算比较，双括号中的变量可以不使用$符号前缀。")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#求100以内的偶数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("num")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("num"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#数值与运算符可以没有空格,变量的使用时也可以不使用$num")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$num")]),t._v('"')]),t._v("\n\t"),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("num"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("num"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br")])])]),t._v(" "),e("li",[e("p",[t._v("用于循环语句。‌例如，‌"),e("code",[t._v("for((i=0;i<5;i++))")]),t._v("可以在双小括号内进行循环变量的递增。‌")])])])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("中括号")]),t._v("：‌")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("单中括号：")]),t._v(" "),e("ul",[e("li",[t._v("用于条件表达式，算术比较，例如，‌"),e("code",[t._v("[ $i -ge 1 ]")]),t._v(" 进行数值比较。")]),t._v(" "),e("li",[t._v("用于条件表达式，文件测试，例如，"),e("code",[t._v("[ -d $file ]")]),t._v(" 检测文件是否是目录。")]),t._v(" "),e("li",[t._v("字符范围。用作正则表达式的一部分，描述一个匹配的字符范围。例如，"),e("code",[t._v('cat 1.txt|grep "[0-9]"')]),t._v("。")]),t._v(" "),e("li",[t._v("引用数组中每个元素。例如，"),e("code",[t._v("${array_name[2]}")]),t._v("。")])])]),t._v(" "),e("li",[e("p",[t._v("双中括号：")]),t._v(" "),e("ul",[e("li",[t._v("用于条件表达式，‌字符串比较，例如，"),e("code",[t._v("[[ hello == hell? ]]")]),t._v(" 进行字符串模式匹配和正则表达式匹配。‌在进行字符串比较时，最好使用双中括号 [[ ]]. 因为单中括号可能会导致一些错误，因此最好避开它们。")])])])])]),t._v(" "),e("li",[e("p",[e("strong",[t._v("大括号")]),t._v("：‌")]),t._v(" "),e("ul",[e("li",[t._v("帮助解释器识别变量的边界。")]),t._v(" "),e("li",[t._v("用于变量替换，‌如 "),e("code",[t._v("${var:-string}")]),t._v(" 当变量为空时，‌将string赋值给var。‌")]),t._v(" "),e("li",[t._v("在序列生成中，‌如 "),e("code",[t._v("{1..4}")]),t._v(" 用于生成数字序列。‌")]),t._v(" "),e("li",[t._v("用于文件名扩展，‌如 "),e("code",[t._v("{1,4}.txt")]),t._v(" 可以生成1.txt和4.txt两个文件，"),e("code",[t._v("cp /path/to/file.txt{,.backup}")]),t._v(" 可以在/path/to目录下生成备份文件file.txt.backup。‌")])])])]),t._v(" "),e("p",[t._v("在Shell脚本中，‌单中括号"),e("code",[t._v("[ ]")]),t._v("和双中括号"),e("code",[t._v("[[ ]]")]),t._v("各有其用途，‌选择使用哪种括号取决于特定的需求和场景。‌")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("单中括号"),e("code",[t._v("[ ]")])]),t._v("：‌\n"),e("ul",[e("li",[t._v("主要用于测试条件表达式的返回值，‌它是一个测试命令，‌返回0表示真，‌非0表示假。‌")]),t._v(" "),e("li",[t._v("在进行算术比较或算术运算时，‌单中括号"),e("code",[t._v("[ ]")]),t._v("更为合适。‌例如，‌进行数值比较或执行算术运算时，‌应使用单中括号。‌")]),t._v(" "),e("li",[t._v("单中括号内的表达式需要特别注意空格的使用，‌例如"),e("code",[t._v("[ $a -eq $b ]")]),t._v("，‌缺少空格可能会导致错误。‌")])])]),t._v(" "),e("li",[e("strong",[t._v("双中括号"),e("code",[t._v("[[ ]]")])]),t._v("：‌\n"),e("ul",[e("li",[t._v("提供了更强大的字符串处理能力，‌支持模式匹配和正则表达式，‌对于字符串和文件名的处理更为灵活。‌")]),t._v(" "),e("li",[t._v("双中括号在条件判断时可以不用引号包围变量，‌也可以支持逻辑操作符"),e("code",[t._v("&&")]),t._v("、‌"),e("code",[t._v("||")]),t._v("，‌并且不需要转义字符。‌")]),t._v(" "),e("li",[t._v("双中括号在语法上更接近于其他编程语言，‌提供了一定的编程便利性。‌")])])])]),t._v(" "),e("p",[t._v("总结来说，‌当需要进行算术比较或运算时，‌应使用单中括号"),e("code",[t._v("[ ]")]),t._v("；‌而当需要进行字符串处理、‌模式匹配或提供更友好的语法时，‌应使用双中括号"),e("code",[t._v("[[ ]]")]),t._v("。‌在实际应用中，‌根据具体的需求选择合适的括号可以提高脚本的健壮性和可读性。")]),t._v(" "),e("h2",{attrs:{id:"shell-流程控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-流程控制"}},[t._v("#")]),t._v(" Shell 流程控制")]),t._v(" "),e("h3",{attrs:{id:"条件结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#条件结构"}},[t._v("#")]),t._v(" 条件结构")]),t._v(" "),e("p",[t._v("if 语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" condition\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    command1 \n    command2\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    commandN \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 写成一行")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" condition"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" command1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" command2… "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br")])]),e("p",[t._v("if else 语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" condition\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    command1 \n    command2\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    commandN\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[t._v("if else-if else 语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" condition1\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    command1\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("elif")]),t._v(" condition2 \n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v(" \n    command2\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n    commandN\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br")])]),e("p",[e("strong",[t._v("case ... esac")]),t._v(" 为多选择语句，与其他语言中的 switch ... case 语句类似，是一种多分支选择结构，每个 case 分支用右圆括号开始，用两个分号 "),e("strong",[t._v(";;")]),t._v(" 表示 break，即执行结束，跳出整个 case ... esac 语句，esac（就是 case 反过来）作为结束标记。")]),t._v(" "),e("p",[t._v("可以用 case 语句匹配一个值与一个模式，如果匹配成功，执行相匹配的命令。")]),t._v(" "),e("p",[t._v("case ... esac 语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" 值 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v("\n模式1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    command1\n    command2\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    commandN\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n模式2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    command1\n    command2\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    commandN\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("esac")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br")])]),e("h3",{attrs:{id:"循环结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#循环结构"}},[t._v("#")]),t._v(" 循环结构")]),t._v(" "),e("p",[t._v("for 语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("var")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" item1 item2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". itemN\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    command1\n    command2\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n    commandN\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 写成一行")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("var")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" item1 item2 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v(". itemN"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v(" command1"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" command2… "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 无限循环语法格式")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])]),e("p",[t._v("while 语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" condition\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 无限循环语法格式一")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 无限循环语法格式二")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br")])]),e("p",[t._v("until 循环执行一系列命令直至条件为 true 时停止。")]),t._v(" "),e("p",[t._v("until 循环与 while 循环在处理方式上刚好相反。")]),t._v(" "),e("p",[t._v("until 语法格式:")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("until")]),t._v(" condition\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br")])]),e("p",[t._v("在循环过程中，有时候需要在未达到循环结束条件时强制跳出循环，Shell 使用两个命令来实现该功能："),e("strong",[t._v("break")]),t._v(" 和 "),e("strong",[t._v("continue")]),t._v("。")]),t._v(" "),e("p",[t._v("break 命令允许跳出所有循环（终止执行后面的所有循环）。")]),t._v(" "),e("p",[t._v("continue 命令与 break 命令类似，只有一点差别，它不会跳出所有循环，仅仅跳出当前循环。")]),t._v(" "),e("h2",{attrs:{id:"shell-函数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-函数"}},[t._v("#")]),t._v(" Shell 函数")]),t._v(" "),e("p",[t._v("Shell 函数定义语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" funname "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    action"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("return int"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br")])]),e("p",[t._v("说明：")]),t._v(" "),e("ol",[e("li",[t._v("可以带 function fun() 定义，也可以直接 fun() 定义,不带任何参数。")]),t._v(" "),e("li",[t._v("所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。")]),t._v(" "),e("li",[t._v("在函数体内部，通过 $n 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数，获取第十个参数需要${10}。当n>=10时，需要使用${n}来获取参数。")]),t._v(" "),e("li",[t._v("函数返回值，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return 语句只能返回一个介于 0 到 255 之间的整数。")]),t._v(" "),e("li",[t._v("函数返回值在调用该函数后通过 $? 来获得。")])]),t._v(" "),e("h2",{attrs:{id:"shell-命令连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#shell-命令连接"}},[t._v("#")]),t._v(" Shell 命令连接")]),t._v(" "),e("p",[t._v("在Shell中，命令连接可以使用多种符号，常见的有以下几种：")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("符号")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("分号")]),t._v(" "),e("td",[t._v(";")]),t._v(" "),e("td",[t._v("无论前一个命令执行成功与否，都会执行下一条命令。")])]),t._v(" "),e("tr",[e("td"),t._v(" "),e("td",[t._v("&")]),t._v(" "),e("td",[t._v("多个命令同时执行，不管命令是否执行成功。")])]),t._v(" "),e("tr",[e("td",[t._v("逻辑与")]),t._v(" "),e("td",[t._v("&&")]),t._v(" "),e("td",[t._v("只有前一个命令执行成功时，才会执行下一条命令。")])]),t._v(" "),e("tr",[e("td",[t._v("逻辑或")]),t._v(" "),e("td",[t._v("||")]),t._v(" "),e("td",[t._v("只有前一个命令执行失败时，才会执行下一条命令。")])]),t._v(" "),e("tr",[e("td",[t._v("管道")]),t._v(" "),e("td",[t._v("|")]),t._v(" "),e("td",[t._v("将前一个命令的输出作为后一个命令的输入。")])])])]),t._v(" "),e("h2",{attrs:{id:"标准输入-输出和重定向"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#标准输入-输出和重定向"}},[t._v("#")]),t._v(" 标准输入/输出和重定向")]),t._v(" "),e("p",[t._v("执行一个shell命令行，系统有三个默认的文件描述符供程序使用。标准输入文件（STDIN）,通常对应终端的键盘；标准输出文件（STDOUT）和标准错误输出文件（STDERR），这两个文件都对应终端的屏幕。")]),t._v(" "),e("p",[t._v("使用符合 “>” 将屏幕的输出导入到文件，屏幕不再有显示，“>” 会覆盖之前的内容。")]),t._v(" "),e("p",[t._v("使用符合 “>>” 将屏幕的输出追加到文件，屏幕不再有显示，“>>” 不会覆盖之前的内容。")]),t._v(" "),e("p",[t._v("标准输入用“0”表示。")]),t._v(" "),e("p",[t._v("标准正确输出用 “1” 表示。“1”可以省略。"),e("code",[t._v(">file")]),t._v("等同于"),e("code",[t._v("1>file")]),t._v("，"),e("code",[t._v(">>file")]),t._v("等同于"),e("code",[t._v("1>>file")])]),t._v(" "),e("p",[t._v("标准错误输出用 “2” 表示。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("操作符")]),t._v(" "),e("th",[t._v("用途")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("重定向输入")]),t._v(" "),e("td",[t._v("<")]),t._v(" "),e("td",[t._v("从指定的文件读取数据，而不是从键盘输入")])]),t._v(" "),e("tr",[e("td",[t._v("重定向输出")]),t._v(" "),e("td",[t._v(">")]),t._v(" "),e("td",[t._v("将输出结果保存到指定的文件（覆盖原有内容)")])]),t._v(" "),e("tr",[e("td",[t._v("重定向输出")]),t._v(" "),e("td",[t._v(">>")]),t._v(" "),e("td",[t._v("将输出结果追加到指定的文件尾部")])]),t._v(" "),e("tr",[e("td",[t._v("标准错误输出")]),t._v(" "),e("td",[t._v("2>")]),t._v(" "),e("td",[t._v("将错误信息保存到指定的文件(覆盖原有内容)")])]),t._v(" "),e("tr",[e("td",[t._v("标准错误输出")]),t._v(" "),e("td",[t._v("2>>")]),t._v(" "),e("td",[t._v("将错误信息追加到指定的文件尾部")])]),t._v(" "),e("tr",[e("td",[t._v("混合输出")]),t._v(" "),e("td",[t._v("&>")]),t._v(" "),e("td",[t._v("将标准正确输出、标准错误输出的内容保存到同一文件(覆盖原有内容)")])]),t._v(" "),e("tr",[e("td",[t._v("混合输出")]),t._v(" "),e("td",[t._v("&>>")]),t._v(" "),e("td",[t._v("将标准正确输出、标准错误输出的内容追加到指定的文件尾部")])])])]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("/dev/null "),e("span",{pre:!0,attrs:{class:"token operator"}},[e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),e("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[e("strong",[t._v("nohup")]),t._v(" 英文全称 no hang up（不挂起），用于在系统后台不挂断地运行命令，退出终端不会影响程序的运行。")]),t._v(" "),e("p",[e("strong",[t._v("nohup")]),t._v(" 命令，在默认情况下（非重定向时），会输出一个名叫 nohup.out 的文件到当前目录下，如果当前目录的 nohup.out 文件不可写，输出重定向到 "),e("strong",[t._v("$HOME/nohup.out")]),t._v(" 文件中。")]),t._v(" "),e("p",[e("strong",[t._v("nohup")]),t._v(" 命令语法格式：")]),t._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("command")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("arg"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])]),e("p",[t._v("命令 "),e("code",[t._v("/dev/null 2>&1 &")]),t._v(" 的主要作用是将程序的标准输出和错误输出都重定向到 "),e("code",[t._v("/dev/null")]),t._v("，从而屏蔽这些输出，使得运行该命令的用户不会看到任何输出信息。")]),t._v(" "),e("p",[t._v("这个命令组合可以分解为几个部分来理解：")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("/dev/null")]),t._v(" 代表空设备文件，是一个特殊的文件，所有写入它的内容都会被永久丢弃，因此被称为“黑洞”或“垃圾桶”。")]),t._v(" "),e("li",[e("code",[t._v(">/dev/null")]),t._v("等同于"),e("code",[t._v("1>/dev/null")]),t._v("，将标准错误输出保存到空设备文件。")]),t._v(" "),e("li",[e("code",[t._v("2>&1")]),t._v(" 是一个shell重定向技巧，它将标准错误输出（文件描述符2）重定向到标准输出（文件描述符1）当前指向的位置。在这个上下文中，由于标准输出也被重定向到了 "),e("code",[t._v("/dev/null")]),t._v("，因此标准错误输出也随之被丢弃。")]),t._v(" "),e("li",[e("code",[t._v("&")]),t._v(" 在命令的末尾表示将命令放到后台执行，这样用户可以在不等待命令执行完成的情况下继续使用终端。‌")])]),t._v(" "),e("h2",{attrs:{id:"参考资料"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[t._v("#")]),t._v(" 参考资料")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.runoob.com/linux/linux-shell.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.runoob.com/linux/linux-shell.html"),e("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=n.exports}}]);